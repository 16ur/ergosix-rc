---
import { LayoutTemplate, Smartphone } from 'lucide-react';
import AnimatedWave from './AnimatedWave.astro';

const features = [
    {
        title: "Crit'Ergo",
        desc: "Algorithme propriétaire de scoring de santé d'entreprise.\
        Score calculé selon la satisfaction des employés, l'assiduité des routines bien-être, et les efforts fournis par l'entreprise.",
        logo: "/Critergo.svg",
        class: "md:col-span-2 md:row-span-2 bg-white border border-gray-100",
        iconClass: "text-red-500"
    },
    {
        title: "Interface Plan 2D",
        desc: "Modélisation des bureaux et heatmaps pour les gestionnaires de flotte.",
        icon: LayoutTemplate,
        class: "md:col-span-1 bg-gradient-to-br from-ergo-dark to-[#1a252f] text-white",
        iconClass: "text-blue-500"
    },
    {
        title: "Mobile App",
        desc: "Notifications et routines d'étirements personnalisées pour l'employé.",
        icon: Smartphone,
        class: "md:col-span-1 bg-ergo-slate border border-ergo-green/10",
        iconClass: "text-ergo-green"
    }
];
---

<section id="solution" class="relative py-10 bg-ergo-green">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-20">
        <div class="mb-12">
            <h2 class="text-3xl font-bold text-white sm:text-4xl">La Solution</h2>
            <p class="mt-4 text-lg text-emerald-100 max-w-2xl">
                Un écosystème complet pour l'ergonomie au travail.
            </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 auto-rows-[minmax(180px,auto)]">
            {features.map((feature) => (
                <div class={`rounded-3xl p-8 flex flex-col justify-between shadow-sm transition-transform hover:-translate-y-1 ${feature.class}`}>
                    <div class={feature.logo ? 'flex items-center justify-center flex-grow' : 'mb-4'}>
                        {feature.logo ? (
                            <img src={feature.logo} alt={feature.title} class="w-full max-w-lg h-auto" />
                        ) : (
                            <feature.icon className={`w-8 h-8 ${feature.iconClass}`} />
                        )}
                    </div>
                    <div>
                        {!feature.logo && (
                            <h3 class={`text-xl font-bold mb-2 ${feature.class.includes('text-white') ? 'text-white' : 'text-gray-900'}`}>
                                {feature.title}
                            </h3>
                        )}
                        <p class={`text-sm leading-relaxed ${feature.class.includes('text-white') ? 'text-emerald-50' : 'text-gray-500'}`}>
                            {feature.desc}
                        </p>
                    </div>
                </div>
            ))}
        </div>
    </div>
    <AnimatedWave fillColor="#f8fafc" position="bottom" />
</section>